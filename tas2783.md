User Guide for Soundwire / SDCA Audio Amplifier TAS2783

### 3 Getting Started with TAS2783


#### 3.1 What is included

The TAS2783 EVM kit includes several components: the **TAS2783 evaluation module**, an **AC-MB board**, a **D2S/LC filter board**, a **Micro-USB cable**, and a **Speaker board**. The speaker board offers both single membrane and dual membrane options.

In addition to the EVM kit items, the following items are required for fundamental GUI, DSP feature, and amplifier evaluation: a **DC Power supply** (the rating needs to be specified), a **4, 6, or 8 Ω power resistor**, and an **Audio analyser**.

#### 3.2 Hardware Setup (I2S/I2C Mode)

This section begins by referencing **Figure 3-1: TAS2783 EVM**, which illustrates the evaluation module. For a quick and easy evaluation, the audio interface card (AC-MB) should be connected to the TAS2783 multi-channel EVM as depicted in **Figure 3-2: AC-MB connected to TAS2783 EVM**. The evaluation setup needs additional software to play audio. By default, the evaluation board is set up for Power Mode <insert #>, and users should consult the hardware manual for further information. The document also references **Figure 3-3: Basic EVM Configuration** and **Figure 3-4: AC-MB Details**.

**Table 3-1: I2C Address Configuration**
| Jumper Condition | I2C Address |
| :--- | :--- |
| 1 ↔ 2 | 0x70 |
| 2 ↔ 3 | 0x72 |
| 4 ↔ 5 | 0x74 |
| 5 ↔ 6 | 0x76 |
| 7 ↔ 8 | 0x78 |
| 8 ↔ 9 | 0x7A |
| 10 ↔ 11 | 0x7C |
| 11 ↔ 12 | 0x7E |
The I2C Address Configuration is determined by the Jumper Condition setting across J59_S1 to J59_S8.
The table shows that if the Jumper Condition is 1 ↔ 2, the corresponding **I2C Address is 0x70**. If the condition is 2 ↔ 3, the address is 0x72. A jumper condition of 4 ↔ 5 results in an address of 0x74, and 5 ↔ 6 corresponds to 0x76. Furthermore, 7 ↔ 8 sets the address to 0x78, and 8 ↔ 9 sets it to 0x7A. Finally, if the condition is 10 ↔ 11, the address is 0x7C, and 11 ↔ 12 sets the address to **0x7E**.

#### 3.3 Hardware Setup (Soundwire Mode)

This section provides the heading "3.3 Hardware Setup (Soundwire Mode)," but no descriptive text or details are included in the provided excerpts.

#### 3.4 Software Installation

The Pure Path Console software can be downloaded by visiting a specified link (<mss link>). After registration, the software can be installed and executed on a **Windows 10 machine**. Users should refer to the Pure Path Console user guide located at a specific link (<link>) for detailed instructions.

#### 3.5 Running Pure Path Console GUI

Prior to launching the Pure Path Console GUI, users must ensure several steps have been completed:
1.  **DC supply is connected to PVDDH**, with **19V recommended** for typical evaluation.
2.  **DC supply is connected to PVDDL**, with **5V recommended** for typical evaluation.
3.  Other steps must be completed.
4.  Some other steps must be completed.
5.  Some extra steps must be completed.
6.  The **speakers must be connected**.
7.  The **amplifier I2C addresses must be set**.

### 4 Pure Path Console – Getting Started


### 5 Power Mode Selection

The TAS2783 can operate using various power supply configurations: with **both PVDDL and PVDDH as supplies**, or using **only PVDDH** or **only PVDDL** as the supply. A table outlines the different power supply modes of operation.

| Supply Power Mode | Output Switching Mode | Supply PVDDL | Device Configurations Comments |
| :--- | :--- | :--- | :--- |
| **PWR_MODE0** | PVDDH – High Pwr | PVDDH > PVDDL | External |
| **PWR_MODE1** | Y Bridge | PVDDH | External |
| **PWR_MODE2** | Y Bridge | PVDDH | Internal |
| **PWR_MODE3** | PVDDL | PVDDL | External |

The table detailing the different power supply modes of operation for the TAS2783, found under Section 5, can be summarized as follows:

1.  **PWR_MODE0** uses the **PVDDH – High Pwr** output switching mode. The supply PVDDL condition for this mode is **PVDDH > PVDDL**, and the corresponding device configuration comment is **External**.
2.  **PWR_MODE1** utilizes the **Y Bridge** output switching mode. The supply PVDDL information is listed as **PVDDL – High Pwr**, and the device configuration comment is **PVDDH External**.
3.  **PWR_MODE2** also uses the **Y Bridge** output switching mode. In this mode, the supply PVDDL information is **PVDDL – Low Pwr**, and the device configuration comment is **PVDDH Internal**.
4.  **PWR_MODE3** lists **PVDDL** for the output switching mode and **PVDDL** for the supply PVDDL information. The device configuration comment for this mode is **External**.

The table details four distinct power modes:
1.  **PWR_MODE0 (PVDDH – High Pwr)** utilizes PVDDH > PVDDL as the Output Switching Mode supply, and the device configuration is noted as External.
2.  **PWR_MODE1 (Y Bridge)** uses PVDDH as the Output Switching Mode supply, and the PVDDL Power Mode is designated as High Pwr, with the device configuration noted as External.
3.  **PWR_MODE2 (Y Bridge)** also uses PVDDH as the Output Switching Mode supply, but the PVDDL Power Mode is designated as Low Pwr, and the device configuration is noted as **Internal**.
4.  **PWR_MODE3** uses PVDDL as both the Output Switching Mode supply and the PVDDL Power Mode supply, with the device configuration noted as External.

### 6 I2S/TDM Slot Configuration

Section 6 is titled "**I2S/TDM Slot Configuration**". No further descriptive text or data is provided under this heading in the excerpts.

### 7 Audio interface format control

Section 7 is titled "**Audio interface format control**". No further descriptive text or data is provided under this heading in the excerpts.

### 8 Amplifier PVDDH and Channel Gain Selection

This section begins by considering a hypothetical product with certain requirements: the continuous output power (average) is **2W**, the peak power must not exceed the peak short-term power, and the power supply voltage should be at or above the peak power.

The speaker characteristics for this hypothetical product are detailed in **Table 8-1: Speaker Parameters**:
The **Continuous Power (P1)** is **2 W**, the **Short-term power capacity (P2)** is **8 W**, and the **Speaker nominal impedance (Znom)** is **4 Ω**.
| Speaker Parameter | Value | Unit |
| :--- | :--- | :--- |
| Continuous Power (P1) | 2 | W |
| Short-term power capacity (P2) | 8 | W |
| Speaker nominal impedance (Znom) | 4 | W |

To select an appropriate power supply voltage and/or amplifier channel gain, the equivalent RMS and peak voltages expected when the speaker is driven near its rated power levels are calculated first.

**Calculation of Equivalent RMS Voltage (V1):**
The equivalent RMS voltage, V1, corresponding to the continuous power handling, P1, is calculated using the equation:
V1 = √(P1 × Znom) [Vrms]
Based on the values P1 = 2 W and Znom = 4 Ω, the calculated value for V1 is **2.83 Vrms**.

**Calculation of Desired Peak Voltage (V2):**
The desired peak voltage, V2, is calculated using the following equation:
V2 = √(2P2 × Znom) [Vpeak]
V2 is calculated to be **8 Vpk**.

**Calculation of Amplifier Channel Gain (GdB):**
The amplifier channel gain (GdB) can be calculated using the equation:
GdB = log10((Vpk / √2) × 20) [dBV]
To deliver a peak voltage of 8 V, the required amplifier channel gain (GdB) would be **15.05 dBV**.

**Derivation of PVDDH:**
PVDDH can be roughly derived using a calculation which, though corrupted in the provided excerpt's equation, is demonstrated by an example. The formula is presented as:
PVDDH = round(calculation based on Vpk and clip percentage) [V]
For instance, if Znom is 4 Ω, Vpk is 8 V, and the target clip percentage is 3%, then the PVDDH required will be approximately **9 V**.

### 9 Speaker Characterization

**Speaker characterization or modeling is essential to maximize speaker performance** while ensuring its reliability under all types of ambient conditions. The speaker model can be derived using the **PPC3 application**. For accurate **Bl (force factor) modeling**, the use of laser equipment, specifically **Keyence**, is recommended. TI’s Smart amp algorithm on the TAS2783 uses this derived model to protect the speaker against both electrical and mechanical damage. Before characterizing or modeling the speaker, it is essential to obtain specific parameters from the speaker vendor.

**Table 9-1: Speaker Parameters** lists the parameters that must be obtained from the speaker vendor:
The table requires the following parameters, descriptions, and units:
1.  **Rdc** and its variation in % (Speaker DC resistance), measured in Ω.
2.  **F0** and its variation in % (Speaker resonant frequency), measured in Hz.
3.  **Qts** (Total Q of the speaker), which has no unit listed (-).
4.  **Cms** (Speaker compliance), measured in m/N.
5.  **Rms** (Speaker loss/damping), which has no unit listed (-).
6.  **Mms** (Membrane mass), measured in gms.
7.  **Bl** (Force factor), measured in T/m.
8.  **Xmax** (Maximum membrane excursion limit), measured in mm.
9.  **Tmax** (Maximum thermal limit), measured in °C.
10. **Ta** (Thermal coefficient of copper (voice coil)), which has no unit listed (-).
11. **Continuous power** (Long term power speaker can handle), measured in W.
12. **Short term power** (Short term power speaker can handle), measured in W.

### 10 Audio Tuning Modes

Section 10 is titled "**Audio Tuning Modes**".

**Table 10-1: DSP Process Flows**
This table outlines the availability and configuration of DSP features across three defined process flows:

| DSP Feature | Process Flow 1 | Process Flow 2 | Process Flow 3 |
| :--- | :--- | :--- | :--- |
| **Volume** | Available (Y) | Available (Y) | Available (Y) |
| **Equalizer** | Available (Y), 13 band | Available (Y), 5 band | Available (Y), 5 band |
| **DRC** | Available (Y) | Available (Y) | Available (Y) |
| **DEQ** | Available (Y), 2 band | Available (Y), 1 band | Available (Y), 1 band |
| **Rattle suppression** | Available (Y) | Available (Y) | Not available (N) |
| **Real-Time speaker protection** | Available (Y) | Available (Y) | Available (Y) |
| **Power limiter** | Available (Y) | Available (Y) | Available (Y) |

The **Volume, DRC, Real-Time speaker protection, and Power limiter** features are available in all three Process Flows (1, 2, and 3). The **Equalizer** feature is available in all flows, but Process Flow 1 provides **13 bands**, while Process Flow 2 and Process Flow 3 both offer **5 bands**. The **Dynamic Equalizer (DEQ)** is available in all flows, utilizing **2 bands** in Process Flow 1, and **1 band** in both Process Flow 2 and Process Flow 3. **Rattle suppression** is available in Process Flow 1 and Process Flow 2, but is **not** included in Process Flow 3.

**Figure 10-1: Smart Amp Signal Chain for Process Flow (1) and (2)** illustrates the signal chain for these two flows.

Understanding the smart amp signal chain is very helpful for **optimizing sound level and quality** while avoiding distortion or undesirable effects resulting from overdriving the audio signal. This signal flow also aids in debugging unwanted artifacts stemming from the tuning process. TI generally recommends that the speaker should be tuned in an order that is consistent with the signal path. The detailed recommended tuning flow by TI is discussed in Section 12.

The TAS2783 communicates with the host processor/SOC using the **MIPI SoundWire® interface**. Before tuning the TAS2783 and its associated DSP algorithm features, TI recommends that all 3rd party software (S/W) or hardware (H/W) APO be disabled. Furthermore, the TAS2783 is compatible with **MIPI SDCA® Version X.Y** and **DisCo® Version A.B**.

### 11 DSP audio blocks

Section 11 explains **each of the DSP audio blocks** available on the TAS2783 in detail. The main signal path incorporates the following blocks: **Volume, Equalizer, Dynamic range control, Dynamic equalizer, Rattle suppression, High pass filter, Speaker protection, and Power limiter**.

#### 11.1 Volume

As a digital input amplifier, the TAS2783 gain structure comprises two components: **Volume (digital gain)**, which is adjustable from **-110 dB to 24 dB**, and **Analog channel gain**, which ranges from **0 to 21 dBV**. The overall system gain is calculated by multiplying the digital gain by the analog channel gain. For example, if the analog channel gain is set to 21 dBV, a full-scale digital input (0 dBFS) would result in an output voltage of **15.8 Vpk**. The overall system gain is also dependent on PVDD, and it must be kept below the PVDD level to avoid **analog clipping**.

An example is provided where **PVDD = 9V**.

**Table 11-1: Gain setting and resulting performance against 9V, PVDD**
This table shows how different gain settings affect the output voltage peak (Output Vpk) against a 9V PVDD supply:
1.  A Digital Gain of 0 dB combined with an Analog Gain of 21 dBV results in an Output Vpk of **15.86 V** and causes **PVDD CLIP (Y)** because 15.86 V is greater than 9V.
2.  A Digital Gain of 0 dB combined with an Analog Gain of 18 dBV results in an Output Vpk of **11.23 V** and causes **PVDD CLIP (Y)** because 11.23 V is greater than 9V.
3.  A Digital Gain of -3 dB combined with an Analog Gain of 18 dBV results in an Output Vpk of **7.95 V** and does **not** cause PVDD CLIP (N) because 7.95 V is less than 9V.
4.  A Digital Gain of 0 dB combined with an Analog Gain of 15 dBV results in an Output Vpk of **7.95 V** and does **not** cause PVDD CLIP (N) because 7.95 V is less than 9V.

In addition to these linear gains, frequency-dependent gains or attenuators are present within the **Equalizer, Dynamic EQ, and DRC** blocks. The digital signal chain has a total available **headroom of 30dB (5 bits)**. If an audio frequency is not limited by excursion or thermal factors, and the anti-clipper is disabled, the tuning process must ensure that the post-processing gain (after volume, EQ, DRC, and DEQ) limits the output to **less than 0dBFS** to prevent **digital clipping**. **Figure 11-1: Output with and without digital clipping** illustrates the effect of digital clipping on a signal at 300Hz.

#### 11.2 Equalizer

Equalizers are capable of significantly improving a sound system by helping to **linearize the speaker’s SPL response**, often compensating for the non-linear frequency or non-flat power response commonly found in budget loudspeakers.

The TAS2783 is equipped with multiple **biquads**, where each biquad is a generic **first-order IIR filter**. These biquad filters can be configured as **high-pass, low-pass, peaking, notch, shelf, or custom filters**. The **quality factor, corner frequency, and gain** for each biquad can be adjusted. Specific filter options require selection of filter subtypes, such as **Butterworth, Bessel, LR, or Chebyshev** for a high-pass filter, along with configuring the cut-off frequency and potentially the **ripple** parameter for certain subtypes. **Figure 11-2: Types of filters in Equalizer** shows the various filter options available in the Equalizer section's dropdown menu.

Each filter type represents one of many analog prototype filters. A single-pole filter option provides a **20 dB/decade roll-off**, whereas second-order filter options achieve a **40 dB/decade roll-off**. **Figure 11-3: 1st Order Low Pass Filter Response** illustrates the typical response of a first-order low pass filter.

To implement a second-order filter, two consecutive biquad blocks must be configured; for example, a second-order Butterworth filter can be achieved by cascading two filters, as depicted in **Figure 11-4: 2nd Order Low Pass Filter Response**. The example shows a roll-off of **-20dB @ 3KHz**.

*Low Pass Filter Example:* **Figure 11-5: LR2, low pass filter response** illustrates an example family of LPF curves using the LR2 subtype with varying corner frequencies (Fc) set at 5 KHz, 8 KHz, and 12 KHz, showing a characteristic roll-off of **-40dB @ 3KHz**.

*High Pass Filter Example:* **Figure 11-6: LR2, high pass filter response** shows an example family of HPF curves, also using the LR2 subtype, with varying corner frequencies (Fc) of 50 Hz, 200 Hz, and 400 Hz.

*Notch Filter Example:* An example family of notch filter curves, illustrated in **Figure 11-7: Notch filter response**, are set with a center frequency (Fc) of 1000 Hz, showing responses for varying bandwidths of 200 Hz, 400 Hz, and 600 Hz.

*Bass and Treble Shelf Filter:* A shelf filter is designed to **boost or cut the magnitude** either below or above a specific frequency band. Specifically, a **bass shelf** boosts or cuts the lower frequency band, while a **treble shelf** boosts or cuts the higher frequency band. Shelf filters are controlled by the "frequency" and "gain" parameters. **Figure 11-8: Cascaded Bass and Treble Shelf Filter Response** shows the response when bass and treble shelf filters are cascaded.

**Table 11-2: Shelf filter parameters** outlines the controls for shelf filters:
1.  **Frequency** defines the center frequency (f0) where the gain or attenuation is observed, with a minimum range of 10 Hz and a maximum range of Fs/2 Hz.
2.  **Gain** defines the peak gain or attenuation, ranging from a minimum of **-24 dB** to a maximum of **12 dB**.

**Figure 11-9: Treble and Bass Shelf filter response** displays an example family of shelf filter curves, using center frequencies of 300 Hz and 8 KHz, and varying gains (-6, -3, 3, 6 dB) applied to a -6dBFS chirp input.

*Equalizer (Q filter) / Peaking filter:* The parametric EQ filter employs three primary controls: **“frequency,” “gain,” and “Q-value”**. **Figure 11-10: Parametric EQ Settings** depicts the controls available for these settings.

**Table 11-3: Parametric EQ filter parameters** details the controls for the parametric EQ filter:
1.  **Frequency** defines the center frequency (f0) where the amplitude gain or attenuation is observed, ranging from a minimum of **10 Hz** to a maximum of **Fs/2 Hz**.
2.  **Gain** defines the peak gain or attenuation, ranging from a minimum of **-24 dB** to a maximum of **12 dB**.
3.  **Q Value** defines the filter quality factor, ranging from **0.1 to 10**.

An example family of PEQ curves, as seen in **Figure 11-11: PEQ filter response**, shows the response for varying gain settings (-6, -3, 3, 6 dB) when the center frequency (f0) is set to 1 kHz and the Q value is 2, using a -6dBFS chirp input.

### 11.3 Dynamic Range Controller (Compressor/Expander/Limiter)

The **Dynamic Range Controller (DRC)** is a feature that automatically adjusts the output gain based on the input signal level and its frequency content. The dynamic range of audio content is defined as the ratio of the loudest undistorted signal to the quietest signal, measured in dB. The TAS2783 provides access to a multi-band compressor featuring three regions, which are defined by two programmable thresholds. The slope of the DRC is programmable for each band, determining if compression, expansion, or limiting is applied.

#### Compressor

When configured as a compressor, the DRC reduces (compresses) the dynamic range of the signal passing through it. The primary use of compressors is to dynamically reduce only the loudest signals. For instance, a 110 dB input dynamic range might be reduced to a 70 dB dynamic range upon exiting the compressor. Dynamic range often needs to be reduced because extreme ranges of material are challenging for amplifiers to handle. Without compression, loud musical peaks could cause the amplifier to clip or the loudspeakers to "bottom out," resulting in a terrible sound; alternatively, setting the system gain low enough to prevent overload means quieter parts, such as low vocals, may become inaudible. A dynamic controller is therefore very helpful.

#### Expander

When configured as an expander, the DRC increases (expands) the dynamic range of the signal. Unlike the compressor, which acts on signals above a threshold, expanders operate on signals **below** the threshold. Expanders can be used as **downward expanders** to make quieter parts even quieter. This technique is useful for reducing background noise, such as the hiss often found in old record material.

#### Limiter

Limiters are a form of compression with fixed ratios of **10:1 or greater**. The dynamic action of a limiter prevents the audio signal from exceeding the set threshold. Limiters are the extreme case of compression and are useful for preventing amplifier overloads. **Figure 11-12** illustrates the action of the Expander, Compressor, and Limiter.

#### DRC Controls and Description

TI’s TAS2783 features a **3 band DRC**, where each band has independent controls, as illustrated in **Figure 11-13: DRC Controls**.

*   **Threshold:** Each DRC band supports 3 regions defined by 2 programmable thresholds. The DRC threshold ranges from **+6 dB to -124 dB**. Region 1 and Region 2 thresholds are programmable, while the Region 0 threshold is fixed at -124 dB. The threshold is the input signal level **above** which compression/limiting engages, or the level **below** which expansion engages.
*   **Ratio:** This term describes the ratio of the input signal to the output signal above the threshold, determining the amount of compression applied (input level : output level). A ratio of **1:1** means the signal region is unaffected. A ratio of **2:1** means that for every 2 dB input above the threshold, the output is limited to 1 dB. For instance, if the threshold is -20 dB and the input is 0 dB, the resulting output will be limited to -10 dB. When the ratio is high (greater than 10), the compressor functions as a "limiter," and when the ratio is less than 1, the signals get "expanded". DRC can be used in a versatile way, allowing quieter sounds to be made loud, mid-region signals to be expanded, and louder signals to be compressed.
*   **Attack, release, and energy time constants:** These controls determine the speed with which the DRC reacts to the input signal. The DRC estimates the input signal level using the **energy time constant**, calculates the input/output relationship, and then smooths the DRC control signal using the attack and release times. The **attack time** determines the time taken to reduce the signal gain after the input level surpasses the threshold. The **release time** determines the time required to bring the output signal back to its original gain once the input signal drops below the threshold.
*   **Crossover:** The TAS2783 DSP features multi-band DRC, where having more bands allows for greater control over the input signal, leading to optimization of sound quality and SPL. Using more bands also allows for high-volume sound shaping in addition to the Equalizer. For example, this allows a user to implement more aggressive high-band compression to reduce shrill sounds in loud input signals, or to accentuate the low-end bass region. The audio signal originating from the EQ block output is split into three bands using customizable crossover filters. The crossover bands can be configured according to the resonant frequency of the speaker. The cross-over frequencies are a cascaded series of high and low pass filters; specifically, the high pass filter of the mid-band region shares the same corner frequency (Fc) as the low-pass filter in the low-band.
*   **Noise Gate:** Each DRC band includes a noise gate feature. The noise gate's function is to reduce unwanted, low-volume noise by attenuating any signal that falls below a set noise gate threshold. When the signal in a particular band is below this threshold, it is further attenuated by the field "Attenuation (dB)". **Figure 11-14** illustrates the Noise Gate action.

**Figure 11-15: Example DRC settings** illustrates the observed output for the low, mid, and high bands when using varying compression ratios (1.25:1, 2:1, and 4:1) in Region 2, based on specific DRC settings.

### 11.4 Dynamic Equaliser

Audio content does not require equalization all the time, and applying static EQs can negatively impact the punch, timbre, and bite of instruments in sections of an audio track. The **Dynamic Equalizer (DEQ)** addresses this by cutting audio frequencies only when they become annoying or introduce non-linear distortion in speakers, such as sibilance, rub & buzz, and/or THDN. Since these distortions are only evident at certain frequencies and signal levels, DEQ attenuates problematic audio spectra only if they are above certain thresholds. Regular static EQ is applied constantly, but dynamic EQ combines precision equalization with selective compression/expansion, engaging only when the signal being EQ'd exceeds a specified threshold at the selected frequency.

TI’s TAS2783 features **two bands** of dynamic EQ with the following controls:

*   **Centre Frequency:** This is the frequency where the dynamic equalization needs to be applied.
*   **Q:** The Quality factor of the filter at the center frequency, with a recommended setting between **3 to 5**.
*   **Peak Gain Threshold:** This threshold is active when the peak gain compression is greater than 1. An example shows that if the compression is 2, a 0 dB signal input results in a -4.5 dB output, based on the DEQ settings in **Figure 11-16**.
*   **Peak Gain Compression:** The compression ratio factor by which the signal is attenuated when it is above the peak limit.
*   **Peak Limit:** The signal limit to which the audio is restricted when it is above the threshold. For example, if the peak limit is -12 dB, all signals above -12 dB are limited to -12 dB, while signals below this are allowed to pass through.
*   **Peak Alpha:** This acts as the attack timer for the compressor.

**Figure 11-17** shows the DEQ output response for input signals of 0, -3, -6, -9, and -13 dBFS. **Figure 11-18** illustrates the DEQ output response for a 0 dBFS input using different compression gains: 3:1, 2:1, and 1:1.

### 11.5 Rattle Suppressor

TI’s rattle suppression algorithm is designed to **mitigate mechanical noise** caused by loose components in a PC system. When the speaker is driven hard at resonance, non-linear airflow inside the cabinet causes the speaker module to vibrate. Because the speaker module is mechanically coupled with the chassis, this vibration causes rattling noise. The algorithm within TAS2783 determines if a specific audio section could introduce this non-linear distortion and then acts to reduce or eliminate it. The algorithm does not impact the SPL of audio content that does not introduce this distortion artifact. **Figure 11-19** displays example rattle suppression algorithm settings. **Figure 11-20** shows the rattle algorithm output for chirp and pink noise inputs using these settings, demonstrating that the algorithm only suppresses audio with narrow band content that has the potential to introduce rattling.

### 11.6 Speaker Protection

The Speaker Protection Algorithm is a component of the **TI SmartAmp Algorithm suite** residing within the amplifier’s DSP. This algorithm regulates the audio power based on the loudspeaker’s **thermal and mechanical limits**.

*   **Thermal Protection:** Driving excessive power heats up the voice coil, which can lead to overheating, melting, and irreparable damage. To prevent this, a closed loop control algorithm is used to limit audio output, ensuring the voice coil temperature remains within the specified maximum limit (**Tmax**) recommended by speaker manufacturers.
*   **Mechanical Protection:** At low frequencies, pushing too much bass to the loudspeaker can cause excessive diaphragm excursion, leading to distortion and damage. The algorithm controls the audio output based on an excursion model to keep the excursion within the specified limit (**Xmax**).

The algorithm monitors the **I/V sense signals** from the amplifier to measure voice coil temperature and predict diaphragm excursion using a model. The algorithm is divided into two main blocks: a **feed forward block** and a **feed-back block**. **Figure 11-21** illustrates the SmartAmp Block Diagram for one channel of the Speaker Protection Algorithm.

#### Feedforward Speaker Protection

This block controls the audio to keep the voice coil temperature within Tmax and diaphragm excursion within Xmax. For temperature control, it uses an audio power limiter whose target power is set by the Feed-back Controller. For excursion control, it utilizes an excursion model with parameters updated by the Feed-back Controller. It employs look-ahead audio (approximately **3ms of buffer**) to predict if the excursion will exceed Xmax, allowing a gain attenuator to ramp up quickly and prevent over-excursion.

The Feed Forward Protection block also includes **anti-clipping functionality** to prevent the audio from exceeding the amplifier’s headroom. Because upstream volume control often applies positive gain to increase loudness, potentially causing clipping at high signal levels, the anti-clipper identifies signal peaks ahead of time and uses a smooth attenuation envelope to limit the output. This block divides the incoming audio into **three bands** using a crossover filter structure and applies protection independently in each band. This multi-band protection offers better control over audio quality by allowing flexible limiter engagement and distribution of available headroom across bands based on the required loudness and dynamic range.

#### Feed-back Controller

The Feed-back Controller monitors the I/V sense signal to estimate the target power for the feed forward temperature limiter. When the speaker heats up, the I/V sense signal indicates a rising temperature, prompting the power control block to report lower power headroom to the feed forward path; conversely, when the speaker cools, higher power is released. This block also uses the I/V sense signal to estimate the parameters of the excursion model used by the feed forward path. Since external conditions (like loudspeaker box temperature or a blocked firing port) can change the diaphragm’s excursion behavior, the Feed-back Controller automatically adapts the model to these changing conditions, providing both reliability and superior bass output.

### 12 TAS2783 Recommended Tuning Flow

Audio engineers generally strive to achieve the desired acoustic response while ensuring the speaker operates within its Safe Operating Area (SOA), maximizing output power, enhancing bass, maintaining good Total Harmonic Distortion plus Noise (THD+N), and avoiding rattle or buzz. Smart amp tuning must guarantee excellent sound effects without any non-linear distortion (including digital, mechanical, or acoustical distortion). **Figure 12-1** illustrates the Recommended Tuning Flow.

### 11.5 Rattle Suppressor (Page 26)

TI’s rattle suppression algorithm is designed to **mitigate mechanical noise** caused by loose components in a PC system. When a speaker is pushed hard at resonance, the non-linear airflow inside the cabinet can cause the speaker module to vibrate. Since the speaker module is mechanically coupled with the chassis, this vibration can lead to **rattling noise**. The algorithm residing inside the TAS2783 helps determine if a specific section of an audio track has the potential to introduce this non-linear distortion, and then acts accordingly to reduce or eliminate it. Crucially, the algorithm does not impact the Sound Pressure Level (SPL) of audio content that does not introduce this distortion artifact.

**Figure 11-19: Example rattle suppression algo settings** illustrates the specific configuration settings for the rattle suppression algorithm.

**Figure 11-20: Rattle algorithm output for chirp and pink noise inputs for above settings** shows that the algorithm **only suppresses audio with narrow band content** which can potentially introduce rattling.

### 11.6 Speaker Protection (Pages 27–29)

The Speaker Protection Algorithm operates as part of the **TI SmartAmp Algorithm suite** located within the amplifier’s DSP. This algorithm regulates the audio power based on the loudspeaker’s **thermal and mechanical limits**.

*   **Thermal Protection:** Driving excessive power heats the voice coil, potentially leading to overheating, melting, and **irreparable damage**. To prevent this, a **closed loop control algorithm** is used to limit the audio output, ensuring the voice coil temperature remains within the specified maximum limit (**Tmax**) recommended by speaker manufacturers.
*   **Mechanical Protection:** At low frequencies, pushing too much bass to the loudspeaker can cause **excessive diaphragm excursion**. This may lead to distortion and damage, so the audio output must be controlled based on an excursion model to keep the excursion within the specified limit (**Xmax**).

The algorithm monitors the **I/V sense signals** from the amplifier to measure the voice coil temperature and predict the diaphragm excursion using an excursion model. The algorithm’s functionality is separated into two primary blocks: the **feed forward block** and the **feed-back block**.

**Figure 11-21: SmartAmp Block Diagram** illustrates the algorithm block diagram for one channel of the Speaker Protection Algorithm. This diagram shows the relationship between the **Amp** output, the **V-sense** and **I-sense** feedback, the **Multi-band Feed Forward Protection** block, and the **Feedback Controller** block.

#### Feedforward Speaker Protection

The Feed Forward Protection block controls the audio to maintain the voice coil temperature within **Tmax** and the diaphragm excursion within **Xmax**.

*   For temperature control, it uses an audio power limiter whose target power is set by the Feed-back Controller.
*   For excursion control, it utilizes an excursion model with parameters updated by the Feed-back Controller.

The excursion control uses **look-ahead audio** (approximately **~3ms of buffer**) to predict if the excursion is going to exceed **Xmax**, allowing a gain attenuator to ramp up quickly to limit the audio and prevent over-excursion.

This block also supports **anti-clipping functionality**, ensuring that the audio does not exceed the amplifier’s headroom. Upstream volume control sometimes applies positive gain to increase loudness, which can cause clipping at large signal levels. The anti-clipper identifies signal peaks ahead in the audio stream and employs a **smooth attenuation envelope** to limit the output and prevent clipping.

The Feed Forward Protection block divides the incoming audio into **three bands** using a crossover filter structure and applies protection independently in each band. This **multi-band protection architecture** provides better control over audio quality by offering the flexibility to engage the limiter independently in each band, and by distributing the available headroom across different bands based on the required loudness and dynamic range of the output audio.

#### Feed-back Controller

The Feed-back Controller block monitors the **I/V sense signal** to estimate the target power for the feed forward temperature limiter. When the speaker temperature rises, the I/V sense signal measurement indicates this, causing the power control block to report a **lower power headroom** to the feed forward path. Conversely, when the speaker cools down, the power control block **releases higher power** for the feed forward path.

The Feed-back Controller also uses the I/V sense signal to estimate the parameters of the excursion model utilized by the feed forward path to predict diaphragm excursion. Since external conditions—such as the temperature of the loudspeaker box or whether the firing port is blocked—can change the loudspeaker diaphragm's excursion behavior, the Feed-back Controller block automatically **adapts the model** to these changing conditions, thereby providing both reliability and superior bass output.

### 12 TAS2783 Recommended Tuning Flow (Page 30)

Audio engineers must strive to achieve the desired acoustic response while ensuring the speaker operates within its **Safe Operating Area (SOA)**. Key goals include maximizing output power, enhancing bass, maintaining good Total Harmonic Distortion plus Noise (**THD+N**), and preventing rattle/buzz. Smart amp tuning must ensure excellent sound effects without any non-linear distortion, including digital, mechanical, or acoustical distortion.

**Figure 12-1: Recommended Tuning Flow** illustrates the steps recommended for tuning the TAS2783.

### 13 System Use-Cases (Pages 31–32)

Section 13, titled "System Use-Cases," lists the speaker topologies supported by the TAS2783.

| Mode | Amp O/P Config | Supported Platform For Tuning | PPC3 Equivalent Symbol |
| :--- | :--- | :--- | :--- |
| **Classic Stereo** | 2x TAS2783 → 2x full range speaker | EVM, IST¹ | <no symbol provided> |
| **Classic DM² Stereo** | 4x TAS2783 → 2x DM speaker | EVM, IST | <no symbol provided> |
| **Optimized DM³ Stereo** | 2x TAS2783 → 2x DM speaker | EVM, IST | <no symbol provided> |
| **Classic Stereo with Tw⁴** | 2x TAS2783 → 2x Wf and 2x TAS2783 → Tw | EVM, IST | <no symbol provided> |
| **Classic DM Stereo with Tw** | 4x TAS2783 → 2x DM speakers and 2x TAS2783 → Tw | EVM, IST | <no symbol provided> |
| **Optimized DM Stereo with Tw** | 2x TAS2783 → 2x DM speaker and 2x TAS2783 → Tw | EVM, IST | <no symbol provided> |
| **Classic Stereo with Optimized Tw** | 2x TAS2783 → 2x Wf and 2x Simple Amp → Tw | IST | <no symbol provided> |
| **Classic DM Stereo with Optimized Tw** | 4x TAS2783 → 2x DM speakers and 2x Simple Amp → Tw | IST | <no symbol provided> |
| **Optimized DM Stereo with Optimized Tw** | 2x TAS2783 → 2x DM speaker and 2x Simple Amp → Tw | IST | <no symbol provided> |

The table details nine supported system use cases:

1.  **Classic Stereo** configuration uses 2x TAS2783 amplifiers driving 2x full range speakers, and is supported for tuning on the EVM or IST (In-system-tuning on OEM/ODM platform with software).
2.  **Classic DM Stereo** uses 4x TAS2783 amplifiers driving 2x DM (Dual membrane speakers, also known as Force cancellation speakers, each membrane with independent amp), supported on EVM and IST.
3.  **Optimized DM Stereo** uses 2x TAS2783 amplifiers driving 2x DM speakers (Dual membrane speakers with voice coil in series or parallel), supported on EVM and IST.
4.  **Classic Stereo with Tw** uses 2x TAS2783 amplifiers for 2x Woofers (Wf) and 2x TAS2783 amplifiers for Tweeters (Tw), supported on EVM and IST.
5.  **Classic DM Stereo with Tw** uses 4x TAS2783 amplifiers for 2x DM speakers and 2x TAS2783 amplifiers for Tw, supported on EVM and IST.
6.  **Optimized DM Stereo with Tw** uses 2x TAS2783 amplifiers for 2x DM speaker and 2x TAS2783 amplifiers for Tw, supported on EVM and IST.
7.  **Classic Stereo with Optimized Tw** uses 2x TAS2783 amplifiers for 2x Woofers and 2x Simple Amp for Tw, supported exclusively on IST.
8.  **Classic DM Stereo with Optimized Tw** uses 4x TAS2783 amplifiers for 2x DM speakers and 2x Simple Amp for Tw, supported exclusively on IST.
9.  **Optimized DM Stereo with Optimized Tw** uses 2x TAS2783 amplifiers for 2x DM speaker and 2x Simple Amp for Tw, supported exclusively on IST.

**Figure 13-1: Popular audio amp topology illustration** visually presents common audio amplifier topologies.

### 14 Software Guidelines (Page 33)

The TAS2783 is **bilingual** in terms of its audio interface, supporting both **I2C/I2S** and **MIPI Soundwire®** interfaces. Users should refer to specific software integration guides to enable their system with the supported interfaces. These guides include: **TAS2783: HD-A Software Integration Guide** and **TAS2783: MIPI Soundwire® Software Integration Guide**.